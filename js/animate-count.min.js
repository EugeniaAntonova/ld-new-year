"use strict";const slider=document.querySelector("#swiperDesktop .swiper-wrapper");let outputs=[...slider.querySelectorAll(".js-prize-value")],slides=[...slider.querySelectorAll(".swiper-slide")].filter(e=>e.querySelector(".js-prize-value")),count=0;const animateValue=(e,t,r)=>{let s=null,l=i=>{s||(s=i);let o=Math.min((i-s)/r,1);e.textContent=`${Math.floor(o*t).toLocaleString().replaceAll(","," ")}`,o<1&&window.requestAnimationFrame(l)};window.requestAnimationFrame(l)},scoreOperations=e=>{let t=3225e3+.02*e;outputs.forEach(e=>{animateValue(e,t,1e3)})},onError=e=>{console.log(e)},getCount=async(e,t)=>{try{let r=await fetch("https://sz.kz/srvNew?srv=lrRating&lotteryRace=52&offset=101");if(!r.ok)throw Error("Не удалось получить данные");let s=await r.json();count=s.allScore?s.allScore:0,t(count)}catch(l){e(l.message)}};slider.addEventListener("transitionend",e=>{e.target.classList.contains("swiper-wrapper")&&(outputs=[...slider.querySelectorAll(".js-prize-value")],(slides=[...slider.querySelectorAll(".swiper-slide")].filter(e=>e.querySelector(".js-prize-value"))).forEach(e=>{(e.classList.contains("swiper-slide-duplicate-active")||e.classList.contains("swiper-slide-active"))&&scoreOperations(count)}))}),document.addEventListener("DOMContentLoaded",()=>{getCount(onError,scoreOperations)});